[{"D:\\Finladder_Admin\\src\\index.js":"1","D:\\Finladder_Admin\\src\\App.js":"2","D:\\Finladder_Admin\\src\\store\\reducers\\restReducer.js":"3","D:\\Finladder_Admin\\src\\store\\reducers\\authReducer.js":"4","D:\\Finladder_Admin\\src\\history.js":"5","D:\\Finladder_Admin\\src\\ScrollToTop.js":"6","D:\\Finladder_Admin\\src\\store\\actions.js":"7","D:\\Finladder_Admin\\src\\pages\\Home.js":"8","D:\\Finladder_Admin\\src\\components\\Navbar.js":"9","D:\\Finladder_Admin\\src\\pages\\Register.js":"10","D:\\Finladder_Admin\\src\\pages\\Login.js":"11","D:\\Finladder_Admin\\src\\pages\\banners\\Banner.js":"12","D:\\Finladder_Admin\\src\\pages\\courses\\EditCourseWizard.js":"13","D:\\Finladder_Admin\\src\\pages\\courses\\Course.js":"14","D:\\Finladder_Admin\\src\\pages\\users\\User.js":"15","D:\\Finladder_Admin\\src\\pages\\category\\Category.js":"16","D:\\Finladder_Admin\\src\\pages\\courses\\CourseWizard.js":"17","D:\\Finladder_Admin\\src\\pages\\coupon\\Coupon.js":"18","D:\\Finladder_Admin\\src\\pages\\users\\LatestUsers.js":"19","D:\\Finladder_Admin\\src\\components\\MainWrapper.js":"20","D:\\Finladder_Admin\\src\\pages\\frm\\frm.js":"21"},{"size":1319,"mtime":1632247669037,"results":"22","hashOfConfig":"23"},{"size":3186,"mtime":1645099521414,"results":"24","hashOfConfig":"23"},{"size":1769,"mtime":1645121696206,"results":"25","hashOfConfig":"23"},{"size":768,"mtime":1632247669082,"results":"26","hashOfConfig":"23"},{"size":87,"mtime":1632247669036,"results":"27","hashOfConfig":"23"},{"size":373,"mtime":1632247669020,"results":"28","hashOfConfig":"23"},{"size":11547,"mtime":1645123740329,"results":"29","hashOfConfig":"23"},{"size":833,"mtime":1632247669039,"results":"30","hashOfConfig":"23"},{"size":760,"mtime":1632247669035,"results":"31","hashOfConfig":"23"},{"size":2190,"mtime":1632247669040,"results":"32","hashOfConfig":"23"},{"size":1544,"mtime":1632247669040,"results":"33","hashOfConfig":"23"},{"size":7325,"mtime":1632247669042,"results":"34","hashOfConfig":"23"},{"size":12911,"mtime":1632247669076,"results":"35","hashOfConfig":"23"},{"size":7438,"mtime":1632247669076,"results":"36","hashOfConfig":"23"},{"size":7451,"mtime":1632247669078,"results":"37","hashOfConfig":"23"},{"size":5152,"mtime":1632247669043,"results":"38","hashOfConfig":"23"},{"size":13624,"mtime":1632247669076,"results":"39","hashOfConfig":"23"},{"size":6005,"mtime":1632247669074,"results":"40","hashOfConfig":"23"},{"size":6646,"mtime":1632247669077,"results":"41","hashOfConfig":"23"},{"size":1563,"mtime":1645099404097,"results":"42","hashOfConfig":"23"},{"size":6097,"mtime":1645121326592,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1henvdw",{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"46"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"46"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Finladder_Admin\\src\\index.js",[],["98","99"],"D:\\Finladder_Admin\\src\\App.js",["100"],"import React from 'react';\r\nimport {BrowserRouter, Switch, Route, withRouter} from 'react-router-dom';\r\nimport './App.css';\r\nimport {connect} from 'react-redux'\r\nimport * as actions from './store/actions';\r\nimport history from './history'\r\nimport ScrollToTop from './ScrollToTop'\r\n\r\nimport Navbar from './components/Navbar'\r\n\r\nimport Frm from './pages/frm/frm'\r\nimport Login from './pages/Login'\r\nimport Register from './pages/Register'\r\nimport Home from './pages/Home';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Course from './pages/courses/Course';\r\nimport CourseWizard from './pages/courses/CourseWizard';\r\nimport Category from './pages/category/Category';\r\nimport Banner from './pages/banners/Banner';\r\nimport Coupon from './pages/coupon/Coupon';\r\nimport User from './pages/users/User';\r\nimport EditCourseWizard from './pages/courses/EditCourseWizard';\r\nimport LatestUsers from './pages/users/LatestUsers';\r\nfunction App({isAuthenticated}) {\r\n  return (\r\n    <>\r\n    <BrowserRouter history={history} basename=\"/admin\">\r\n      <ScrollToTop>\r\n      <Navbar/>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={isAuthenticated?Home:withRouter(Login)}/>\r\n        \r\n        {/* Courses below */}\r\n        <Route exact path=\"/courses\" component={isAuthenticated?Course:withRouter(Login)}/>\r\n        <Route exact path=\"/course/edit/:id\" component={isAuthenticated?EditCourseWizard:withRouter(Login)}/>\r\n        {/* <Route exact path=\"/detail/belt/:id\" component={isAuthenticated?BeltDetailPage:withRouter(Login)}/> */}\r\n        <Route exact path=\"/create/course\" component={isAuthenticated?CourseWizard:withRouter(Login)}/>\r\n        {/* <Route exact path=\"/edit/belt/:id\" component={isAuthenticated?EditBelt:withRouter(Login)}/> */}\r\n        \r\n\r\n        <Route exact path=\"/coupons\" component={isAuthenticated?Coupon:withRouter(Login)}/>\r\n\r\n        <Route exact path=\"/students\" component={isAuthenticated?User:withRouter(Login)}/>\r\n\r\n        <Route exact path=\"/categories\" component={isAuthenticated?Category:withRouter(Login)}/>\r\n\r\n        <Route exact path=\"/banners\" component={isAuthenticated?Banner:withRouter(Login)}/>\r\n        <Route exact path=\"/frm\" component={isAuthenticated?Frm:withRouter(Frm)}/>\r\n\r\n        {/* Category below */}\r\n        {/* <Route exact path=\"/allcategories\" component={isAuthenticated?AllCategories:withRouter(Login)}/>\r\n        <Route exact path=\"/categories/edit/:id\" component={isAuthenticated?EditCategory:withRouter(Login)}/> */}\r\n        {/* <Route exact path=\"/cake/category\" component={isAuthenticated?AddCategory:withRouter(Login)}/> */}\r\n        \r\n{/* \r\n        <Route exact path=\"/allusers\" component={isAuthenticated?Users:withRouter(Login)}/>\r\n        <Route exact path=\"/users/:id\" component={isAuthenticated?ShowUserOrders:withRouter(Login)}/> */}\r\n\r\n        <Route path=\"/login\" component={withRouter(Login)}/>\r\n        <Route path=\"/register\" component={withRouter(Register)}/>\r\n      </Switch>\r\n      </ScrollToTop>\r\n    </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\nconst mapStateToProps = state => {\r\n  return{\r\n    isAuthenticated: state.auth.isAuthenticated\r\n  }\r\n}\r\nexport default connect(mapStateToProps, actions)(App);","D:\\Finladder_Admin\\src\\store\\reducers\\restReducer.js",["101"],"D:\\Finladder_Admin\\src\\store\\reducers\\authReducer.js",["102"],"const initialState = {\r\n    token: null,\r\n    isAuthenticated: false,\r\n    email: null,\r\n    signup_msg: \"\",\r\n    login_msg: \"\",\r\n}\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      return {\r\n        ...state,\r\n        isAuthenticated: action.payload.isAuthenticated, \r\n        token:action.payload.token, \r\n        email: action.payload.adminId, \r\n        login_msg:action.payload.msg\r\n      }\r\n    case 'SIGNUP':\r\n      return {\r\n          ...state,\r\n          signup_msg:action.payload\r\n        };\r\n    case 'LOGOUT':\r\n      return{\r\n        token: null,\r\n        isAuthenticated: false,\r\n        email: null,\r\n        signup_msg: \"\",\r\n        login_msg: \"\",\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};","D:\\Finladder_Admin\\src\\history.js",[],"D:\\Finladder_Admin\\src\\ScrollToTop.js",[],"D:\\Finladder_Admin\\src\\store\\actions.js",[],"D:\\Finladder_Admin\\src\\pages\\Home.js",["103","104","105","106"],"import React,{useEffect} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Row, Col, Container } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\nimport {fetchCategories} from '../store/actions'\r\nimport MainWrapper from '../components/MainWrapper'\r\nfunction Home({}) {\r\n    useEffect(() => {\r\n        return () => {\r\n            console.log(\"Unmounted Home\")\r\n        }\r\n    }, [])\r\n    return (\r\n        <MainWrapper current=\"0\">\r\n            <Row>\r\n                <Col lg={12}>\r\n                    <br/>\r\n                    <center><h2>Welcome to Admin Panel of Finladder </h2></center>\r\n                    <br/><br/>\r\n                </Col>\r\n            </Row>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return{}\r\n}\r\nexport default connect(mapStateToProps,{})(Home)","D:\\Finladder_Admin\\src\\components\\Navbar.js",[],"D:\\Finladder_Admin\\src\\pages\\Register.js",[],"D:\\Finladder_Admin\\src\\pages\\Login.js",[],"D:\\Finladder_Admin\\src\\pages\\banners\\Banner.js",["107","108","109","110","111"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Form, Modal, Table } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport { fetchCategory, createNewBanner, updateCategory, deleteCategory, fetchHomePageBanner } from '../../store/actions'\r\nfunction Banner({fetchHomePageBanner,createNewBanner, updateCategory, deleteCategory, categories, banners}) {\r\n    useEffect(() => {\r\n        getAllBanners()\r\n    }, [])\r\n    const [newBannerURL, setnewBannerURL] = useState(\"\")\r\n    const [newBannerHeading, setnewBannerHeading] = useState(\"\")\r\n    const [newBannerSubHeading, setnewBannerSubHeading] = useState(\"\")\r\n    const [newCTAText, setnewCTAText] = useState(\"\")\r\n    const [newTargetURL, setnewTargetURL] = useState(\"\")\r\n\r\n\r\n    \r\n    const [updateCategoryName, setUpdateCategoryName] = useState(\"\")\r\n    const [currentCategory, setcurrentCategory] = useState({})\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [show1, setShow1] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const handleClose1 = () => setShow1(false);\r\n    const handleShow1 = () => setShow1(true);\r\n\r\n    const getAllBanners = async () => {\r\n        await fetchHomePageBanner()\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const res = await createNewBanner({\r\n            \"bannerURL\":newBannerURL,\r\n            \"bannerHeading\":newBannerHeading, \r\n            \"bannerSubHeading\":newBannerSubHeading, \r\n            \"targetURL\":newTargetURL, \r\n            \"ctaText\": newCTAText\r\n        })\r\n        handleClose()\r\n        getAllBanners()\r\n    }\r\n    const beginUpdate = (id, name) => {\r\n        setcurrentCategory({id: id, name: name})\r\n        setUpdateCategoryName(name)\r\n        handleShow1()\r\n    }\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault()\r\n        const res = await updateCategory({\r\n            \"categoryName\": updateCategoryName,\r\n            \"categoryId\": currentCategory.id\r\n        })\r\n        handleClose1()\r\n        getAllBanners()\r\n    }\r\n    return (\r\n        \r\n        <MainWrapper current=\"5\">\r\n            <Button style={{float:'right'}} onClick={handleShow}>Add New Banner</Button>\r\n            <br/>\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Image</th>\r\n                        <th>Banner Heading</th>\r\n                        <th>Banner Sub Heading</th>\r\n                        <th>CTA Button Text</th>\r\n                        <th>CTA Button Target Url</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {banners.map(item => {\r\n                        return <tr key={item._id}>\r\n                            <td><img src={item.bannerURL} style={{width:'95px'}}/></td>\r\n                            <td>{item.bannerHeading}</td>\r\n                            <td>{item.bannerSubHeading}</td>\r\n                            <td>{item.ctaText}</td>\r\n                            <td><a href={item.targetURL}>{item.targetURL}</a></td>\r\n                            \r\n                            <td>\r\n                                <Button variant=\"outline-primary\" onClick={()=>{beginUpdate(item._id, item.bannerHeading)}}>Edit</Button>\r\n                                <span> </span>\r\n                                <Button variant=\"outline-danger\" onClick={async ()=>{await deleteCategory(item._id); getAllBanners()}}>Delete</Button>\r\n                            </td>\r\n                        </tr>\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n            <Modal show={show} onHide={handleClose} animation={false}>\r\n                <Form onSubmit={e => handleSubmit(e)}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>New Banner</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff'}}>\r\n                        <Form.Group>\r\n                            <Form.Label>Banner Url</Form.Label>\r\n                            <Form.Control required type=\"text\" placeholder=\"Enter Name\" onChange={e => setnewBannerURL(e.target.value)} />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Banner Heading</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={e => setnewBannerHeading(e.target.value)}/>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Banner Sub Heading</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={e => setnewBannerSubHeading(e.target.value)}/>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>CTA Text</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={e => setnewCTAText(e.target.value)}/>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Target URL</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={e => setnewTargetURL(e.target.value)}/>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose}>\r\n                            Close\r\n                        </Button>\r\n                        <Button type=\"submit\" variant=\"primary\" >\r\n                            Create\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n            <Modal show={show1} onHide={handleClose1} animation={false}>\r\n                <Form>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Update Banner - {currentCategory.name}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff'}}>\r\n                        <Form.Group>\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" value={updateCategoryName} onChange={e => setUpdateCategoryName(e.target.value)}/>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose1}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={e => handleUpdate(e)}>\r\n                            Update\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        categories: state.main.categories,\r\n        banners: state.main.banners\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {fetchHomePageBanner, createNewBanner, updateCategory, deleteCategory })(Banner)\r\n","D:\\Finladder_Admin\\src\\pages\\courses\\EditCourseWizard.js",["112","113","114","115","116"],"import React, { useEffect, useState } from 'react'\r\nimport { Form, Col, Button, Row } from 'react-bootstrap'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport { editCourse, fetchCourse } from '../../store/actions'\r\nimport {connect} from 'react-redux'\r\nimport moment from 'moment'\r\nimport Axios from 'axios'\r\n\r\nfunction EditCourseWizard({editCourse, categories, match, courses, fetchCourse}) {\r\n    const [courseInfo, setcourseInfo] = useState(null)\r\n    const [topics, settopic] = useState([])\r\n    const [currentCategory, setCurrentCategory] = useState(null)\r\n    useEffect(() => {\r\n        \r\n        courses.map(item => {\r\n            if(item._id === match.params.id){\r\n                if(item.categoryId){\r\n                    setCurrentCategory(item.categoryId._id)\r\n                }\r\n                setcourseInfo(\r\n                    {\r\n                        \"courseName\":item.courseName,\r\n                        \"courseDuration\":item.courseDuration,\r\n                        \"price\":item.price,\r\n                        \"thumbnailImage\":item.thumbnailImage,\r\n                        \"categoryId\":item.categoryId?item.categoryId._id:categories[0]._id,\r\n                        \"description\":item.description,\r\n                        \"rating\": item.rating\r\n                    }\r\n                )\r\n                settopic(item.topics)\r\n            }\r\n        })\r\n    }, [])\r\n    const addTopics = () => {\r\n        let temp = [...topics]\r\n        temp.push({\r\n            \"topicName\":\"\",\r\n            \"topicDuration\": \"\",\r\n            \"subTopics\":[]\r\n        })\r\n        settopic(temp)\r\n    }\r\n    const removeTopic = (idx) => {\r\n        let temp = [...topics]\r\n         temp.splice(idx, 1);\r\n         settopic(temp)\r\n         getCourseDuration()\r\n    }\r\n    const addSubTopics = (idx) => {\r\n        let temp = [...topics]\r\n        temp[idx].subTopics.push({\r\n            \"subTopicName\":\"\",\r\n            \"duration\":\"\",\r\n            \"videoLink\":\"\",\r\n            \"previewLink\":\"\",\r\n            \"docUrl\":\"\",\r\n            \"description\": \"\"\r\n         })\r\n         settopic(temp)\r\n    }\r\n    const removeSubTopics = (idx1, idx2) => {\r\n        let temp = [...topics]\r\n         temp[idx1].subTopics.splice(idx2, 1);\r\n         settopic(temp)\r\n         getTopicDuration(idx1)\r\n    }\r\n    const updateSubValue = (idx1, idx2, key, value) => {\r\n        let temp = [...topics]\r\n        temp[idx1].subTopics[idx2][key] = value\r\n        settopic(temp)\r\n    }\r\n    const updateTopicValue = (idx1, key, value) => {\r\n        let temp = [...topics]\r\n        temp[idx1][key] = value\r\n        settopic(temp)\r\n    }\r\n    const updateCourseValue = (key, value) => {\r\n        let temp = {...courseInfo}\r\n        temp[key] = value\r\n        setcourseInfo(temp)\r\n    }\r\n    const getTimeDuration = async (link, idx, index) => {\r\n        var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\r\n        var match = link.match(regExp);\r\n        if(match&&match[7].length==11){\r\n            const res = await Axios.get(`https://www.googleapis.com/youtube/v3/videos?id=${match[7]}&part=contentDetails&key=AIzaSyCOscc7A9jIRE6aC2rmxJlWWtfiRzLs0OE`)\r\n            console.log(res.data.items[0].contentDetails.duration)\r\n            var somevalue = moment.duration(res.data.items[0].contentDetails.duration).asSeconds()\r\n            updateSubValue(idx, index, \"duration\", somevalue)\r\n            getTopicDuration(idx)\r\n        }\r\n    }\r\n    const getTopicDuration = (idx) => {\r\n        var sumValue = 0\r\n        topics[idx].subTopics.map(sub => {\r\n            sumValue += Number(sub.duration)\r\n        })\r\n        updateTopicValue(idx, \"topicDuration\", sumValue)\r\n        getCourseDuration()\r\n    }\r\n    const getCourseDuration = () => {\r\n        var sumValue = 0\r\n        topics.map(top => {\r\n            sumValue += Number(top.topicDuration)\r\n        })\r\n        updateCourseValue('courseDuration', sumValue)\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()  \r\n        let data = {\r\n            ...courseInfo, topics\r\n        }\r\n        console.log(data)\r\n        await editCourse(match.params.id, data)\r\n        alert(\"Successfully Updated!\")\r\n        fetchCourse()\r\n    }\r\n    return (\r\n        <MainWrapper current=\"1\">\r\n            <br/>\r\n            <div className=\"course-wizard\" style={{backgroundColor:'#fff', padding: '10px 20px'}}>\r\n            <h2>Edit Course Wizard</h2>\r\n            <hr/>\r\n            {courseInfo && <Form onSubmit={e => handleSubmit(e)}>\r\n                <Row>\r\n                            <Form.Group as={Col} lg={5} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Course Name</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.courseName} onChange={e=>{updateCourseValue('courseName', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Course Duration</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.courseDuration} onChange={e=>{updateCourseValue('courseDuration', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Price</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.price}  onChange={e=>{updateCourseValue('price', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={5} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Thumbnail Image URL</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.thumbnailImage} onChange={e=>{updateCourseValue('thumbnailImage', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={1} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Rating</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.rating} onChange={e=>{updateCourseValue('rating', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n                                <Form.Label>Category</Form.Label>\r\n                                <Form.Control as=\"select\" value={currentCategory?currentCategory:\"none\"} onChange={e=>{updateCourseValue('categoryId', e.target.value);setCurrentCategory(e.target.value);}}>\r\n                                    {categories.map(item =>{\r\n                                        return <option value={item._id}>{item.categoryName}</option>\r\n                                    })}\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={9} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Description</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.description}  onChange={e=>{updateCourseValue('description', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            </Row>\r\n\r\n                {topics.map((topi, idx) => {\r\n                    return (\r\n                        \r\n                        <Form.Row className=\"topicBody\">\r\n                            <Col lg={12} className=\"head\"><strong style={{'color':'#fff'}}>Topic - {idx+1}</strong><Button variant=\"danger\" size=\"sm\" onClick={()=>removeTopic(idx)}>Delete Topic</Button></Col>\r\n                            <Form.Group as={Col} lg={6} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Topic Name</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={topi.topicName} onChange={e => updateTopicValue(idx, \"topicName\", e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={6} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Topic Duration</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={topi.topicDuration} onChange={e => updateTopicValue(idx, \"topicDuration\", e.target.value)}/>\r\n                            </Form.Group>\r\n                            {topi.subTopics.map((subT, index) => {\r\n                                return (\r\n                                    <div  className=\"subtopicBody\">\r\n                                    <Col lg={12} className=\"head\">\r\n                                        <strong style={{'color':'#0013f2'}}>Sub Topic #{index+1}</strong>\r\n                                        <Button variant=\"danger\" size=\"sm\" onClick={()=>removeSubTopics(idx,index)}>Delete Sub-Topic</Button>\r\n                                    </Col>\r\n                                <Col lg={12}>\r\n                                <Row>\r\n                                    \r\n                                    <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Sub Topic Name</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"subTopicName\", e.target.value)} placeholder=\"\" value={subT.subTopicName}/>\r\n                                    </Form.Group>\r\n                                    \r\n                                    <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Link Of Video</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => {updateSubValue(idx, index, \"videoLink\", e.target.value); getTimeDuration(e.target.value,idx, index);}} placeholder=\"\" value={subT.videoLink}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={3  } controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Duration</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"duration\", e.target.value)} placeholder=\"\" value={subT.duration}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Link of Preview</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"previewLink\", e.target.value)} placeholder=\"\" value={subT.previewLink}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={9} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Description</Form.Label>\r\n                                        <Form.Control as=\"textarea\" rows={2} onChange={e => updateSubValue(idx, index, \"description\", e.target.value)} placeholder=\"\" value={subT.description}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Upload Document</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"docUrl\", e.target.value)} placeholder=\"\" value={subT.docUrl}/>\r\n                                    </Form.Group>\r\n                                </Row>\r\n                                \r\n                                </Col>\r\n                                </div>)\r\n                            })}\r\n                            <Col lg={12} className=\"bottom\"><Button variant=\"outline-primary\" className=\"ml-auto\" onClick={()=>addSubTopics(idx)}>Add Subtopic</Button></Col>\r\n                            \r\n                        </Form.Row>\r\n                    )\r\n                })}\r\n                <div style={{display: 'flex', justifyContent:'space-between', marginTop: '10px'}}>\r\n                    <Button variant=\"outline-primary\" onClick={()=>addTopics()}>Add Topic</Button>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Submit\r\n                    </Button>\r\n                </div>\r\n                \r\n            </Form>}\r\n            </div>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        categories: state.main.categories,\r\n        courses: state.main.courses\r\n\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {editCourse, fetchCourse})(EditCourseWizard)\r\n","D:\\Finladder_Admin\\src\\pages\\courses\\Course.js",["117","118","119"],"import React,{useState, useEffect, useRef} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport { Link } from 'react-router-dom'\r\nimport { Row, Col, Button, Modal } from 'react-bootstrap'\r\nimport { fetchCourse, deleteCourse } from '../../store/actions'\r\n\r\nfunction Course({fetchCourse, deleteCourse, courses, categories}) {\r\n    const [selectedCat, setselectedCat] = useState(\"all\")\r\n    const [show, setShow] = useState(false);\r\n    const [currentCourse, setCurrentCourse] = useState(null);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const currentCat = useRef(\"all\")\r\n\r\n    useEffect( () => {\r\n        fetchAllCourse()\r\n        return () => {\r\n            console.log(\"Unmounted All belts Page\")\r\n        }\r\n    }, [])\r\n    const fetchAllCourse = async () => {\r\n        await fetchCourse()\r\n    }\r\n    const showDetail = (data) => {\r\n        \r\n        setCurrentCourse(data)\r\n        handleShow()\r\n    }\r\n    return (\r\n        <MainWrapper current=\"1\">\r\n            <Row>\r\n                <Col lg={3}>\r\n                    <select ref={currentCat} onChange={(e)=>{setselectedCat(e.target.value)}} className=\"form-control\">\r\n                        <option value=\"all\">All</option>\r\n                        {categories.map(each => {\r\n                            return <option value={each.categoryName}>{each.categoryName}</option>\r\n                        })}\r\n                    </select>\r\n                </Col>\r\n                <Col lg={7}></Col>\r\n                <Col lg={2}>\r\n                    <Link to=\"/create/course\" className=\"btn btn-success\">New Course</Link>\r\n                </Col>\r\n            </Row>\r\n            <br/>\r\n            <table className=\"table table-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{textAlign:'center', width: '1%'}}>S.no</th>\r\n                        <th style={{textAlign:'center', width: '1%'}}>Image</th>\r\n                        <th style={{textAlign:'center', width: '35%' }}>Name</th>\r\n                        <th style={{textAlign:'center', }}>Category</th>\r\n                        <th style={{textAlign:'center', width: '10%'}}>Price</th>\r\n                        <th style={{textAlign:'center', width: '10%'}}>Total Topics</th>\r\n                        <th style={{textAlign:'center', width: '1%'}}>Show</th>\r\n                        <th style={{textAlign:'center', width: '1%'}}>Edit</th>\r\n                        <th style={{textAlign:'center', width: '1%'}}>Delete</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {courses.map((course, index) => {\r\n                        if(selectedCat === 'all'){\r\n                            return <tr>\r\n                                <td>{index+1}</td>\r\n                                <td><img width=\"100\" src={course.thumbnailImage} alt={index} /></td>\r\n                                <td>{course.courseName}</td>\r\n                                {course.categoryId?<td>{course.categoryId.categoryName}</td>:<td style={{color:'red'}}>Category Deleted</td>}\r\n                                <td>{course.price}</td>\r\n                                <td>{course.topics.length}</td>\r\n                                <td><Button variant=\"outline-primary\" onClick={()=>showDetail(course)}>Show</Button></td>\r\n                                <td><Link to={`/course/edit/${course._id}`} className=\"btn btn-outline-primary\">Edit</Link></td>\r\n                                <td><Button variant=\"outline-danger\" onClick={async ()=>{await deleteCourse(course._id); fetchAllCourse()}}>Delete</Button></td>\r\n                            </tr>\r\n                        }else{\r\n                            if(selectedCat === course.categoryId.categoryName){\r\n                                return <tr>\r\n                                <td>{index+1}</td>\r\n                                <td><img width=\"100\" src={course.thumbnailImage} alt={index} /></td>\r\n                                <td>{course.courseName}</td>\r\n                                <td>{course.categoryId.categoryName}</td>\r\n                                <td>{course.price}</td>\r\n                                <td>{course.topics.length}</td>\r\n                                <td><Button variant=\"outline-primary\" onClick={()=>showDetail(course)}>Show</Button></td>\r\n                                <td><Link to={`/course/edit/${course._id}`} className=\"btn btn-outline-primary\">Edit</Link></td>\r\n                                <td><Button variant=\"outline-danger\" onClick={async ()=>{await deleteCourse(course._id); fetchAllCourse()}}>Delete</Button></td>\r\n                            </tr>\r\n                            }\r\n                            \r\n                        }\r\n                        \r\n                    })}\r\n                </tbody>\r\n            </table>\r\n            {currentCourse && <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                <Modal.Title>{currentCourse.courseName}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body style={{maxHeight:'70vh', overflowY:'scroll'}}>\r\n                    <div>\r\n                        <img src={currentCourse.thumbnailImage} style={{width:'100%'}}/>\r\n                        <div>\r\n                            <h2>{currentCourse.courseName}</h2>\r\n                            <h6>Rs {currentCourse.price}</h6>\r\n                            <h6>{currentCourse.courseDuration} secs</h6>\r\n                            <strong>{currentCourse.categoryId.categoryName}</strong>\r\n                            <p>{currentCourse.description}</p>\r\n                        </div>\r\n                        <div>\r\n                        <ol>\r\n                            {currentCourse.topics.map((topic, idx) => {\r\n                                return <li key={idx}><strong>{topic.topicName}</strong> ({topic.topicDuration} secs)\r\n                                        {topic.subTopics.map(sub =>{\r\n                                            return <ul>\r\n                                                <li>{sub.subTopicName} - {sub.duration} secs</li>\r\n                                                <li>Preview - <a href={sub.previewLink}>link</a></li>\r\n                                                <li>Video - <a href={sub.videoLink}>link</a></li>\r\n                                            </ul>\r\n                                        })}\r\n                                    </li>\r\n                                \r\n                            })}\r\n                            </ol>\r\n                        </div>\r\n                    </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>\r\n                    Close\r\n                </Button>\r\n                {/* <Button variant=\"primary\" onClick={handleClose}>\r\n                    Save Changes\r\n                </Button> */}\r\n                </Modal.Footer>\r\n            </Modal>}\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStatesToProps = state => {\r\n    return{\r\n        token: state.auth.token,\r\n        courses: state.main.courses,\r\n        categories: state.main.categories\r\n    }\r\n}\r\nexport default connect(mapStatesToProps,{fetchCourse, deleteCourse})(Course);","D:\\Finladder_Admin\\src\\pages\\users\\User.js",["120","121","122","123","124","125","126","127","128"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Form, Modal, Table } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport Spinner from '../../Spinner-1s.svg'\r\nimport { fetchUsers, fetchUsersCourses, fetchCourse, createCoupon, updateCategory, deleteCoupon, assignCourse, unassignCourse, fetchNextUsers } from '../../store/actions'\r\nfunction User({fetchUsers, fetchUsersCourses, fetchCourse, createCoupon, updateCategory, deleteCoupon, users, assignCourse, courses, unassignCourse, fetchNextUsers, total_users, page_no, fetching}) {\r\n    const [searchQuery, setsearchQuery] = useState(\"\")\r\n    useEffect(() => {\r\n        getAllUsers()\r\n    }, [])\r\n\r\n    const [selectedUserCourse, setselectedUserCourse] = useState(null)\r\n    const [courseLoading, setCourseLoading] = useState(true)\r\n    const [selectedUser, setselectedUser] = useState(null)\r\n    const [updateCategoryName, setUpdateCategoryName] = useState(\"\")\r\n\r\n    const [currentCategory, setcurrentCategory] = useState({})\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [show1, setShow1] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const handleClose1 = () => setShow1(false);\r\n    const handleShow1 = () => setShow1(true);\r\n\r\n    const getAllUsers = async () => {\r\n        await fetchCourse()\r\n        await fetchUsers()\r\n    }\r\n    const handleSubmit = async (courseId) => {\r\n        const res = await assignCourse({\r\n            'id': selectedUser,\r\n            'courses': [courseId]\r\n        })\r\n        handleClose()\r\n        alert(\"Course Assigned Successfully!\")\r\n        // getAllUsers()\r\n    }\r\n    const showHisCourse = async (userid) => {\r\n        setselectedUser(userid)\r\n        handleShow1()\r\n        setCourseLoading(true)\r\n        const assigned_courses = await fetchUsersCourses(userid);\r\n        console.log(assigned_courses)\r\n        \r\n        setselectedUserCourse(assigned_courses.data.myCart)\r\n        setCourseLoading(false)\r\n        \r\n    }\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault()\r\n        const res = await updateCategory({\r\n            \"categoryName\": updateCategoryName,\r\n            \"categoryId\": currentCategory.id\r\n        })\r\n        handleClose1()\r\n        getAllUsers()\r\n    }\r\n    const beginAssigning = async (id) => {\r\n        setselectedUser(id)\r\n        handleShow()\r\n    }\r\n    const showUpdatedCart = async (id) => {\r\n        const assigned_courses = await fetchUsersCourses(id);\r\n        setselectedUserCourse(assigned_courses.data.myCart)\r\n        alert(\"Course Revoked\");\r\n    }\r\n    return (\r\n        \r\n        <MainWrapper current=\"2\">\r\n            {/* <Button style={{float:'right', marginBottom: '10px'}} onClick={handleShow}>New Coupon</Button> */}\r\n            <br/>\r\n            <p>Total Users: {users.length}</p>\r\n            \r\n            <input type=\"text\" className=\"form-control\" onChange={(e)=>{setsearchQuery(e.target.value)}} placeholder=\"Search...\" style={{width:'300px'}}/>\r\n            <br/>\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>S.no</th>\r\n                        <th>Name</th>\r\n                        <th>Mobile</th>\r\n                        <th>Email</th>\r\n                        <th>Courses</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                        {users.slice(0).reverse().map((item,idx) => {\r\n                        if(item.name.toLowerCase().includes(searchQuery.toLowerCase())){\r\n                            return <tr key={item._id}>\r\n                                <td>{idx+1}</td>\r\n                                <td>{item.name}</td>\r\n                                <td>{item.mobile}</td>\r\n                                <td>{item.email}</td>\r\n                                <td><Button variant=\"primary\" style={{padding:'1px 5px', fontSize:'13px'}} onClick={async ()=>{await showHisCourse(item._id);}}>View</Button></td>\r\n                                <td>\r\n                                    <Button variant=\"outline-info\" onClick={async ()=>{await beginAssigning(item._id);}}>Assign Course</Button>\r\n                                </td>\r\n                            </tr>\r\n                        }\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n            <Modal show={show} onHide={handleClose} animation={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Select A Course To Assign</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff', maxHeight:'500px',overflowY:'scroll'}}>\r\n                        {courses && courses.map((item)=>{\r\n                            return <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', border: '1.5px solid rgb(7 96 19 / 73%)', background:'#fff', marginBottom:'5px', padding:'2px 8px'}}>\r\n                                <p>{item.courseName}</p>\r\n                                <button onClick={() => handleSubmit(item._id)} className=\"btn btn-primary\">Assign</button>\r\n                            </div>\r\n                        })}\r\n                    </Modal.Body>\r\n                    {/* <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={e => handleSubmit(e)}>\r\n                            Create\r\n                        </Button>\r\n                    </Modal.Footer> */}\r\n            </Modal>\r\n            <Modal show={show1} onHide={handleClose1} animation={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Enrolled Course</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff', position:'relative !important'}}>\r\n                        {!courseLoading && selectedUserCourse.length>0 && <ol>\r\n                        {selectedUserCourse && selectedUserCourse.map((item,idx) => {\r\n                            \r\n                                        return <li>{item.courseId.courseName} <button onClick={async ()=>{await unassignCourse({id:selectedUser,courseId:item.courseId._id}); showUpdatedCart(selectedUser);}} className=\"btn btn-outline-danger\" style={{padding:2}}>Revoke</button></li>\r\n                                  \r\n                        })}\r\n                        </ol>}\r\n                        {!courseLoading && selectedUserCourse.length===0 && <div>No course assigned.</div>}\r\n                        {courseLoading && <div className=\"d-flex justify-content-center\"><img src={Spinner}/></div>}\r\n                    </Modal.Body>\r\n            </Modal>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.main.users,\r\n        courses: state.main.courses,\r\n        total_users: state.main.total_users,\r\n        page_no: state.main.page_no,\r\n        fetching: state.main.fetching\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {fetchUsers, fetchUsersCourses,fetchCourse, createCoupon, updateCategory, deleteCoupon, assignCourse, unassignCourse, fetchNextUsers })(User)\r\n","D:\\Finladder_Admin\\src\\pages\\category\\Category.js",["129","130","131"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Form, Modal, Table } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport { fetchCategory, createCategory, updateCategory, deleteCategory } from '../../store/actions'\r\nfunction Category({fetchCategory,createCategory, updateCategory, deleteCategory, categories}) {\r\n    useEffect(() => {\r\n        getAllCategory()\r\n    }, [])\r\n    const [newCategoryName, setnewCategoryName] = useState(\"\")\r\n    const [updateCategoryName, setUpdateCategoryName] = useState(\"\")\r\n\r\n    const [currentCategory, setcurrentCategory] = useState({})\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [show1, setShow1] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const handleClose1 = () => setShow1(false);\r\n    const handleShow1 = () => setShow1(true);\r\n\r\n    const getAllCategory = async () => {\r\n        await fetchCategory()\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const res = await createCategory({\r\n            \"categoryName\": newCategoryName\r\n        })\r\n        handleClose()\r\n        getAllCategory()\r\n    }\r\n    const beginUpdate = (id, name) => {\r\n        setcurrentCategory({id: id, name: name})\r\n        setUpdateCategoryName(name)\r\n        handleShow1()\r\n    }\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault()\r\n        const res = await updateCategory({\r\n            \"categoryName\": updateCategoryName,\r\n            \"categoryId\": currentCategory.id\r\n        })\r\n        handleClose1()\r\n        getAllCategory()\r\n    }\r\n    return (\r\n        \r\n        <MainWrapper current=\"4\">\r\n            <Button style={{float:'right'}} onClick={handleShow}>New Category</Button>\r\n            <br/>\r\n            <Table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {categories.map(item => {\r\n                        return <tr key={item._id}>\r\n                            <td>{item.categoryName}</td>\r\n                            <td>\r\n                                <Button variant=\"outline-primary\" onClick={()=>{beginUpdate(item._id, item.categoryName)}}>Edit</Button>\r\n                                <span> </span>\r\n                                <Button variant=\"outline-danger\" onClick={async ()=>{await deleteCategory(item._id); getAllCategory()}}>Delete</Button>\r\n                            </td>\r\n                        </tr>\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n            <Modal show={show} onHide={handleClose} animation={false}>\r\n                <Form>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>New Category</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff'}}>\r\n                        <Form.Group>\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={e => setnewCategoryName(e.target.value)}/>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={e => handleSubmit(e)}>\r\n                            Create\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n            <Modal show={show1} onHide={handleClose1} animation={false}>\r\n                <Form>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Update Category - {currentCategory.name}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff'}}>\r\n                        <Form.Group>\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" value={updateCategoryName} onChange={e => setUpdateCategoryName(e.target.value)}/>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose1}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={e => handleUpdate(e)}>\r\n                            Update\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        categories: state.main.categories\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {fetchCategory, createCategory, updateCategory, deleteCategory })(Category)\r\n","D:\\Finladder_Admin\\src\\pages\\courses\\CourseWizard.js",["132","133","134"],"import React, { useState } from 'react'\r\nimport { Form, Col, Button, Row } from 'react-bootstrap'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport { createCourse } from '../../store/actions'\r\nimport {connect} from 'react-redux'\r\nimport moment from 'moment'\r\nimport Axios from 'axios'\r\n\r\n\r\nfunction CourseWizard({createCourse, categories}) {\r\n    const [courseInfo, setcourseInfo] = useState({\r\n        \"courseName\":\"2021 Complete Python Bootcamp From Zero to Hero in Python\",\r\n        \"courseDuration\":50,\r\n        \"price\":349,\r\n        \"thumbnailImage\":\"https://img-a.udemycdn.com/course/240x135/567828_67d0.jpg?Em0DhvE4qee9Rz2Hv5rWeexMG2bxiDMZbNcQ2Erq7Y73Z0qAlIxo40IJce82Efnc1sm9UOnSSaJKutT6xm_dqKGlA-VjrW8MF0lYGbaQS0PurjyHjPfn4VwGCiBk\",\r\n        \"categoryId\":categories[0]._id,\r\n        \"description\":\"Learn Python like a Professional Start from the basics and go all the way to creating your own applications and games\",\r\n        \"rating\": 5\r\n    })\r\n    const [topics, settopic] = useState([\r\n        \r\n           {\r\n              \"topicName\":\"Course Overview 1\",\r\n              \"topicDuration\":25,\r\n              \"subTopics\":[\r\n                 {\r\n                    \"subTopicName\":\"Why Python?\",\r\n                    \"duration\":25,\r\n                    \"videoLink\":\"https://www.youtube.com/watch?v=IXFxXY1-fBY\",\r\n                    \"previewLink\":\"https://www.youtube.com/watch?v=IXFxXY1-fBY\",\r\n                    \"docUrl\":\"Link of the doc\",\r\n                    \"description\": \"Description for this subtopic\"\r\n                 }\r\n              ]\r\n           },\r\n           {\r\n              \"topicName\":\"Course Overview 2\",\r\n              \"topicDuration\":25,\r\n              \"subTopics\":[\r\n                 {\r\n                    \"subTopicName\":\"Why Django?\",\r\n                    \"duration\":25,\r\n                    \"videoLink\":\"https://www.youtube.com/watch?v=IXFxXY1-fBY\",\r\n                    \"previewLink\":\"https://www.youtube.com/watch?v=IXFxXY1-fBY\",\r\n                    \"docUrl\":\"Link of the doc\",\r\n                    \"description\": \"Description for this subtopic\"\r\n                 }\r\n              ]\r\n           }\r\n    ])\r\n    const addTopics = () => {\r\n        let temp = [...topics]\r\n        temp.push({\r\n            \"topicName\":\"\",\r\n            \"topicDuration\": \"\",\r\n            \"subTopics\":[]\r\n        })\r\n        settopic(temp)\r\n    }\r\n    const removeTopic = (idx) => {\r\n        let temp = [...topics]\r\n         temp.splice(idx, 1);\r\n         settopic(temp)\r\n         getCourseDuration()\r\n    }\r\n    const addSubTopics = (idx) => {\r\n        let temp = [...topics]\r\n        temp[idx].subTopics.push({\r\n            \"subTopicName\":\"\",\r\n            \"duration\":\"\",\r\n            \"videoLink\":\"\",\r\n            \"previewLink\":\"\",\r\n            \"docUrl\":\"\",\r\n            \"description\": \"\"\r\n         })\r\n         settopic(temp)\r\n    }\r\n    const removeSubTopics = (idx1, idx2) => {\r\n        let temp = [...topics]\r\n         temp[idx1].subTopics.splice(idx2, 1);\r\n         settopic(temp)\r\n         getTopicDuration(idx1)\r\n    }\r\n    const updateSubValue = (idx1, idx2, key, value) => {\r\n        let temp = [...topics]\r\n        temp[idx1].subTopics[idx2][key] = value\r\n        settopic(temp)\r\n    }\r\n    const updateTopicValue = (idx1, key, value) => {\r\n        let temp = [...topics]\r\n        temp[idx1][key] = value\r\n        settopic(temp)\r\n    }\r\n    const updateCourseValue = (key, value) => {\r\n        let temp = {...courseInfo}\r\n        temp[key] = value\r\n        setcourseInfo(temp)\r\n    }\r\n    const getTimeDuration = async (link, idx, index) => {\r\n        var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\r\n        var match = link.match(regExp);\r\n        if(match&&match[7].length==11){\r\n            const res = await Axios.get(`https://www.googleapis.com/youtube/v3/videos?id=${match[7]}&part=contentDetails&key=AIzaSyCOscc7A9jIRE6aC2rmxJlWWtfiRzLs0OE`)\r\n            console.log(res.data.items[0].contentDetails.duration)\r\n            var somevalue = moment.duration(res.data.items[0].contentDetails.duration).asSeconds()\r\n            updateSubValue(idx, index, \"duration\", somevalue)\r\n            getTopicDuration(idx)\r\n        }\r\n    }\r\n    const getTopicDuration = (idx) => {\r\n        var sumValue = 0\r\n        topics[idx].subTopics.map(sub => {\r\n            sumValue += Number(sub.duration)\r\n        })\r\n        updateTopicValue(idx, \"topicDuration\", sumValue)\r\n        getCourseDuration()\r\n    }\r\n    const getCourseDuration = () => {\r\n        var sumValue = 0\r\n        topics.map(top => {\r\n            sumValue += Number(top.topicDuration)\r\n        })\r\n        updateCourseValue('courseDuration', sumValue)\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()  \r\n        let data = {\r\n            ...courseInfo, topics\r\n        }\r\n        console.log(data)\r\n        const res = await createCourse(data)\r\n        alert(JSON.stringify(res.data))\r\n    }\r\n    return (\r\n        <MainWrapper current=\"1\">\r\n            <br/>\r\n            <div className=\"course-wizard\" style={{backgroundColor:'#fff', padding: '10px 20px'}}>\r\n            <h2>New Course Wizard</h2>\r\n            <hr/>\r\n            <Form onSubmit={e => handleSubmit(e)}>\r\n                <Row>\r\n                            <Form.Group as={Col} lg={5} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Course Name</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.courseName} onChange={e=>{updateCourseValue('courseName', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Course Duration(s)</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.courseDuration} onChange={e=>{updateCourseValue('courseDuration', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Price</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.price}  onChange={e=>{updateCourseValue('price', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={5} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Thumbnail Image URL</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.thumbnailImage} onChange={e=>{updateCourseValue('thumbnailImage', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={1} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Rating</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"5\" value={courseInfo.rating} onChange={e=>{updateCourseValue('rating', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n                                <Form.Label>Category</Form.Label>\r\n                                <Form.Control as=\"select\" custom onChange={e=>{updateCourseValue('categoryId', e.target.value)}}>\r\n                                    {categories.map(item =>{\r\n                                        return <option value={item._id}>{item.categoryName}</option>\r\n                                    })}\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={9} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Description</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={courseInfo.description}  onChange={e=>{updateCourseValue('description', e.target.value)}}/>\r\n                            </Form.Group>\r\n                            </Row>\r\n\r\n                {topics.map((topi, idx) => {\r\n                    return (\r\n                        \r\n                        <Form.Row className=\"topicBody\">\r\n                            <Col lg={12} className=\"head\"><strong style={{'color':'#fff'}}>Topic - {idx+1}</strong><Button variant=\"danger\" size=\"sm\" onClick={()=>removeTopic(idx)}>Delete Topic</Button></Col>\r\n                            <Form.Group as={Col} lg={6} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Topic Name</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={topi.topicName} onChange={e => updateTopicValue(idx, \"topicName\", e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} lg={6} controlId=\"formGridAddress2\">\r\n                                <Form.Label>Topic Duration(s)</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"\" value={topi.topicDuration} onChange={e => updateTopicValue(idx, \"topicDuration\", e.target.value)}/>\r\n                            </Form.Group>\r\n                            {topi.subTopics.map((subT, index) => {\r\n                                return (\r\n                                    <div  className=\"subtopicBody\">\r\n                                    <Col lg={12} className=\"head\">\r\n                                        <strong style={{'color':'#0013f2'}}>Sub Topic #{index+1}</strong>\r\n                                        <Button variant=\"danger\" size=\"sm\" onClick={()=>removeSubTopics(idx,index)}>Delete Sub-Topic</Button>\r\n                                    </Col>\r\n                                <Col lg={12}>\r\n                                <Row>\r\n                                    \r\n                                    <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Sub Topic Name</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"subTopicName\", e.target.value)} placeholder=\"\" value={subT.subTopicName}/>\r\n                                    </Form.Group>\r\n                                    \r\n                                    <Form.Group as={Col} lg={4} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Link Of Video <span className=\"text-muted\" style={{fontSize: 10}}>(<strong>\"https://www.youtube.com/watch?v=videoId\"</strong>)</span></Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => {updateSubValue(idx, index, \"videoLink\", e.target.value); getTimeDuration(e.target.value,idx, index)}} placeholder=\"\" value={subT.videoLink}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={2  } controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Duration(s)</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"duration\", e.target.value)} placeholder=\"\" value={subT.duration}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Link of Preview </Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"previewLink\", e.target.value)} placeholder=\"\" value={subT.previewLink}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={9} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Description</Form.Label>\r\n                                        <Form.Control as=\"textarea\" rows={2} onChange={e => updateSubValue(idx, index, \"description\", e.target.value)} placeholder=\"\" value={subT.description}/>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} lg={3} controlId=\"formGridAddress2\">\r\n                                        <Form.Label>Upload Document</Form.Label>\r\n                                        <Form.Control type=\"text\" onChange={e => updateSubValue(idx, index, \"docUrl\", e.target.value)} placeholder=\"\" value={subT.docUrl}/>\r\n                                    </Form.Group>\r\n                                </Row>\r\n                                \r\n                                </Col>\r\n                                </div>)\r\n                            })}\r\n                            <Col lg={12} className=\"bottom\"><Button variant=\"outline-primary\" className=\"ml-auto\" onClick={()=>addSubTopics(idx)}>Add Subtopic</Button></Col>\r\n                            \r\n                        </Form.Row>\r\n                    )\r\n                })}\r\n                <div style={{display: 'flex', justifyContent:'space-between', marginTop: '10px'}}>\r\n                    <Button variant=\"outline-primary\" onClick={()=>addTopics()}>Add Topic</Button>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Submit\r\n                    </Button>\r\n                </div>\r\n                \r\n            </Form>\r\n            </div>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        categories: state.main.categories\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {createCourse})(CourseWizard)\r\n","D:\\Finladder_Admin\\src\\pages\\coupon\\Coupon.js",["135","136","137","138","139"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Form, Modal, Table } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport { fetchCoupons, createCoupon, updateCategory, deleteCoupon, fetchCouponsategory } from '../../store/actions'\r\nfunction Coupon({fetchCoupons,createCoupon, updateCategory, deleteCoupon, coupons}) {\r\n    useEffect(() => {\r\n        getAllCoupons()\r\n    }, [])\r\n    const [newCouponCode, setNewCouponCode] = useState(\"\")\r\n    const [newDiscount, setNewDiscount] = useState(0)\r\n    const [newMaxDiscount, setNewMaxDiscount] = useState(0)\r\n    const [updateCategoryName, setUpdateCategoryName] = useState(\"\")\r\n\r\n    const [currentCategory, setcurrentCategory] = useState({})\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [show1, setShow1] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const handleClose1 = () => setShow1(false);\r\n    const handleShow1 = () => setShow1(true);\r\n\r\n    const getAllCoupons = async () => {\r\n        await fetchCoupons()\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const res = await createCoupon({\r\n            \"couponCode\":newCouponCode, \r\n            \"discount\":newDiscount, \r\n            \"maxDiscount\":newMaxDiscount\r\n        })\r\n        handleClose()\r\n        getAllCoupons()\r\n    }\r\n    const beginUpdate = (id, name) => {\r\n        setcurrentCategory({id: id, name: name})\r\n        setUpdateCategoryName(name)\r\n        handleShow1()\r\n    }\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault()\r\n        const res = await updateCategory({\r\n            \"categoryName\": updateCategoryName,\r\n            \"categoryId\": currentCategory.id\r\n        })\r\n        handleClose1()\r\n        getAllCoupons()\r\n    }\r\n    return (\r\n        \r\n        <MainWrapper current=\"3\">\r\n            <Button style={{float:'right', marginBottom: '10px'}} onClick={handleShow}>New Coupon</Button>\r\n            <br/>\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Coupon Code</th>\r\n                        <th>Discount</th>\r\n                        <th>Max Discount</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {coupons.map(item => {\r\n                        return <tr key={item._id}>\r\n                            <td>{item.couponCode}</td>\r\n                            <td>{item.discount}</td>\r\n                            <td>{item.maxDiscount}</td>\r\n                            <td>\r\n                                <Button variant=\"outline-danger\" onClick={async ()=>{await deleteCoupon(item._id); getAllCoupons()}}>Delete</Button>\r\n                            </td>\r\n                        </tr>\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n            <Modal show={show} onHide={handleClose} animation={false}>\r\n                <Form>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>New Coupon</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff'}}>\r\n                        <Form.Group>\r\n                            <Form.Label>Coupon Code</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter CODE\" onChange={e => setNewCouponCode(e.target.value)} required={true}/>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Discount(%)</Form.Label>\r\n                            <Form.Control type=\"number\" placeholder=\"Enter Discount\" onChange={e => setNewDiscount(e.target.value)} required={true}/>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Max Discount(Enter amount in INR)</Form.Label>\r\n                            <Form.Control type=\"number\" placeholder=\"Enter Max Dicount\" onChange={e => setNewMaxDiscount(e.target.value)} required={true}/>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={e => handleSubmit(e)}>\r\n                            Create\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n            <Modal show={show1} onHide={handleClose1} animation={false}>\r\n                <Form>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Update Category - {currentCategory.name}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff'}}>\r\n                        <Form.Group>\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" value={updateCategoryName} onChange={e => setUpdateCategoryName(e.target.value)}/>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose1}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={e => handleUpdate(e)}>\r\n                            Update\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        coupons: state.main.coupons\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {fetchCoupons, createCoupon, updateCategory, deleteCoupon })(Coupon)\r\n","D:\\Finladder_Admin\\src\\pages\\users\\LatestUsers.js",["140","141","142","143","144","145","146","147"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Form, Modal, Table } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport MainWrapper from '../../components/MainWrapper'\r\nimport { fetchLatestUsers, fetchCourse, createCoupon, updateCategory, deleteCoupon, assignCourse, unassignCourse, fetchNextUsers } from '../../store/actions'\r\nfunction LatestUsers({fetchLatestUsers, fetchCourse, createCoupon, updateCategory, deleteCoupon, users, assignCourse, courses, unassignCourse, fetchNextUsers, total_users, page_no, fetching}) {\r\n    const [searchQuery, setsearchQuery] = useState(\"\")\r\n    useEffect(() => {\r\n            getAllLatestUsers()\r\n    }, [])\r\n\r\n    const [selectedUserCourse, setselectedUserCourse] = useState(null)\r\n    const [selectedUser, setselectedUser] = useState(null)\r\n    const [updateCategoryName, setUpdateCategoryName] = useState(\"\")\r\n\r\n    const [currentCategory, setcurrentCategory] = useState({})\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [show1, setShow1] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const handleClose1 = () => setShow1(false);\r\n    const handleShow1 = () => setShow1(true);\r\n\r\n    const getAllLatestUsers = async () => {\r\n        await fetchCourse()\r\n        await fetchLatestUsers()\r\n    }\r\n    const handleSubmit = async (courseId) => {\r\n        const res = await assignCourse({\r\n            'id': selectedUser,\r\n            'courses': [courseId]\r\n        })\r\n        handleClose()\r\n        alert(\"Course Assigned Successfully!\")\r\n        getAllLatestUsers()\r\n    }\r\n    const showHisCourse = (userid,id) => {\r\n        setselectedUser(userid)\r\n        setselectedUserCourse(id)\r\n        handleShow1()\r\n    }\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault()\r\n        const res = await updateCategory({\r\n            \"categoryName\": updateCategoryName,\r\n            \"categoryId\": currentCategory.id\r\n        })\r\n        handleClose1()\r\n        getAllLatestUsers()\r\n    }\r\n    const beginAssigning = async (id) => {\r\n        setselectedUser(id)\r\n        handleShow()\r\n    }\r\n    return (\r\n        \r\n        <MainWrapper current=\"2.5\">\r\n            {/* <Button style={{float:'right', marginBottom: '10px'}} onClick={handleShow}>New Coupon</Button> */}\r\n            <br/>\r\n            <input type=\"text\" className=\"form-control\" onChange={(e)=>{setsearchQuery(e.target.value)}} placeholder=\"Search...\" style={{width:'300px'}}/>\r\n            <br/>\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>S.no</th>\r\n                        <th>Name</th>\r\n                        <th>Mobile</th>\r\n                        <th>Email</th>\r\n                        <th>Courses</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {users.map((item,idx) => {\r\n                        if(item.name.toLowerCase().includes(searchQuery.toLowerCase())){\r\n                            return <tr key={item._id}>\r\n                                <td>{idx+1}</td>\r\n                                <td>{item.name}</td>\r\n                                <td>{item.mobile}</td>\r\n                                <td>{item.email}</td>\r\n                                <td>Total : {item.myCart.length} | <Button variant=\"primary\" style={{padding:'1px 5px', fontSize:'13px'}} onClick={async ()=>{await showHisCourse(item._id, item.myCart);}}>View</Button></td>\r\n                                <td>\r\n                                    <Button variant=\"outline-info\" onClick={async ()=>{await beginAssigning(item._id);}}>Assign Course</Button>\r\n                                </td>\r\n                            </tr>\r\n                        }\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n            <Modal show={show} onHide={handleClose} animation={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Select A Course To Assign</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff', maxHeight:'500px',overflowY:'scroll'}}>\r\n                        {courses && courses.map((item)=>{\r\n                            return <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', border: '1.5px solid rgb(7 96 19 / 73%)', background:'#fff', marginBottom:'5px', padding:'2px 8px'}}>\r\n                                <p>{item.courseName}</p>\r\n                                <button onClick={() => handleSubmit(item._id)} className=\"btn btn-primary\">Assign</button>\r\n                            </div>\r\n                        })}\r\n                    </Modal.Body>\r\n                    {/* <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={handleClose}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={e => handleSubmit(e)}>\r\n                            Create\r\n                        </Button>\r\n                    </Modal.Footer> */}\r\n            </Modal>\r\n            <Modal show={show1} onHide={handleClose1} animation={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Enrolled Course</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body style={{backgroundColor:'#fff', position:'relative !important'}}>\r\n                        <ol>\r\n                        {selectedUserCourse && selectedUserCourse.map((item,idx) => {\r\n                            \r\n                                        return <li>{item.courseId.courseName} <button onClick={async ()=>{await unassignCourse({id:selectedUser,courseId:item.courseId._id});await getAllLatestUsers(); alert(\"Course Revoked\"); handleClose1()}} className=\"btn btn-outline-danger\" style={{padding:2}}>Revoke</button></li>\r\n                                  \r\n                        })}\r\n                        </ol>\r\n                    </Modal.Body>\r\n            </Modal>\r\n        </MainWrapper>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.main.latest_users,\r\n        courses: state.main.courses,\r\n        total_users: state.main.total_users,\r\n        page_no: state.main.page_no,\r\n        fetching: state.main.fetching\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {fetchLatestUsers,fetchCourse, createCoupon, updateCategory, deleteCoupon, assignCourse, unassignCourse, fetchNextUsers })(LatestUsers)\r\n","D:\\Finladder_Admin\\src\\components\\MainWrapper.js",[],"D:\\Finladder_Admin\\src\\pages\\frm\\frm.js",["148","149","150","151","152"],{"ruleId":"153","replacedBy":"154"},{"ruleId":"155","replacedBy":"156"},{"ruleId":"157","severity":1,"message":"158","line":23,"column":8,"nodeType":"159","messageId":"160","endLine":23,"endColumn":19},{"ruleId":"161","severity":1,"message":"162","line":13,"column":1,"nodeType":"163","endLine":77,"endColumn":3},{"ruleId":"161","severity":1,"message":"162","line":8,"column":1,"nodeType":"163","endLine":34,"endColumn":3},{"ruleId":"157","severity":1,"message":"164","line":3,"column":20,"nodeType":"159","messageId":"160","endLine":3,"endColumn":29},{"ruleId":"157","severity":1,"message":"165","line":4,"column":10,"nodeType":"159","messageId":"160","endLine":4,"endColumn":14},{"ruleId":"157","severity":1,"message":"166","line":5,"column":9,"nodeType":"159","messageId":"160","endLine":5,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":7,"column":15,"nodeType":"169","messageId":"170","endLine":7,"endColumn":17},{"ruleId":"157","severity":1,"message":"171","line":5,"column":10,"nodeType":"159","messageId":"160","endLine":5,"endColumn":23},{"ruleId":"172","severity":1,"message":"173","line":9,"column":8,"nodeType":"174","endLine":9,"endColumn":10,"suggestions":"175"},{"ruleId":"157","severity":1,"message":"176","line":34,"column":15,"nodeType":"159","messageId":"160","endLine":34,"endColumn":18},{"ruleId":"157","severity":1,"message":"176","line":51,"column":15,"nodeType":"159","messageId":"160","endLine":51,"endColumn":18},{"ruleId":"177","severity":1,"message":"178","line":77,"column":33,"nodeType":"179","endLine":77,"endColumn":83},{"ruleId":"180","severity":1,"message":"181","line":15,"column":26,"nodeType":"182","messageId":"183","endLine":15,"endColumn":28},{"ruleId":"172","severity":1,"message":"184","line":34,"column":8,"nodeType":"174","endLine":34,"endColumn":10,"suggestions":"185"},{"ruleId":"186","severity":1,"message":"187","line":86,"column":34,"nodeType":"188","messageId":"170","endLine":86,"endColumn":36},{"ruleId":"180","severity":1,"message":"181","line":96,"column":39,"nodeType":"182","messageId":"183","endLine":96,"endColumn":41},{"ruleId":"180","severity":1,"message":"181","line":104,"column":24,"nodeType":"182","messageId":"183","endLine":104,"endColumn":26},{"ruleId":"172","severity":1,"message":"189","line":22,"column":8,"nodeType":"174","endLine":22,"endColumn":10,"suggestions":"190"},{"ruleId":"180","severity":1,"message":"191","line":63,"column":50,"nodeType":"182","messageId":"192","endLine":63,"endColumn":52},{"ruleId":"177","severity":1,"message":"178","line":102,"column":25,"nodeType":"179","endLine":102,"endColumn":89},{"ruleId":"157","severity":1,"message":"193","line":2,"column":18,"nodeType":"159","messageId":"160","endLine":2,"endColumn":22},{"ruleId":"172","severity":1,"message":"194","line":11,"column":8,"nodeType":"174","endLine":11,"endColumn":10,"suggestions":"195"},{"ruleId":"157","severity":1,"message":"196","line":16,"column":32,"nodeType":"159","messageId":"160","endLine":16,"endColumn":53},{"ruleId":"157","severity":1,"message":"197","line":18,"column":29,"nodeType":"159","messageId":"160","endLine":18,"endColumn":47},{"ruleId":"157","severity":1,"message":"176","line":33,"column":15,"nodeType":"159","messageId":"160","endLine":33,"endColumn":18},{"ruleId":"157","severity":1,"message":"198","line":52,"column":11,"nodeType":"159","messageId":"160","endLine":52,"endColumn":23},{"ruleId":"157","severity":1,"message":"176","line":54,"column":15,"nodeType":"159","messageId":"160","endLine":54,"endColumn":18},{"ruleId":"180","severity":1,"message":"191","line":91,"column":66,"nodeType":"182","messageId":"192","endLine":91,"endColumn":68},{"ruleId":"177","severity":1,"message":"178","line":141,"column":90,"nodeType":"179","endLine":141,"endColumn":110},{"ruleId":"172","severity":1,"message":"199","line":9,"column":8,"nodeType":"174","endLine":9,"endColumn":10,"suggestions":"200"},{"ruleId":"157","severity":1,"message":"176","line":28,"column":15,"nodeType":"159","messageId":"160","endLine":28,"endColumn":18},{"ruleId":"157","severity":1,"message":"176","line":41,"column":15,"nodeType":"159","messageId":"160","endLine":41,"endColumn":18},{"ruleId":"186","severity":1,"message":"187","line":102,"column":34,"nodeType":"188","messageId":"170","endLine":102,"endColumn":36},{"ruleId":"180","severity":1,"message":"181","line":112,"column":39,"nodeType":"182","messageId":"183","endLine":112,"endColumn":41},{"ruleId":"180","severity":1,"message":"181","line":120,"column":24,"nodeType":"182","messageId":"183","endLine":120,"endColumn":26},{"ruleId":"157","severity":1,"message":"201","line":5,"column":68,"nodeType":"159","messageId":"160","endLine":5,"endColumn":87},{"ruleId":"172","severity":1,"message":"202","line":9,"column":8,"nodeType":"174","endLine":9,"endColumn":10,"suggestions":"203"},{"ruleId":"157","severity":1,"message":"176","line":30,"column":15,"nodeType":"159","messageId":"160","endLine":30,"endColumn":18},{"ruleId":"157","severity":1,"message":"204","line":38,"column":11,"nodeType":"159","messageId":"160","endLine":38,"endColumn":22},{"ruleId":"157","severity":1,"message":"176","line":45,"column":15,"nodeType":"159","messageId":"160","endLine":45,"endColumn":18},{"ruleId":"157","severity":1,"message":"193","line":2,"column":18,"nodeType":"159","messageId":"160","endLine":2,"endColumn":22},{"ruleId":"172","severity":1,"message":"205","line":10,"column":8,"nodeType":"174","endLine":10,"endColumn":10,"suggestions":"206"},{"ruleId":"157","severity":1,"message":"196","line":14,"column":32,"nodeType":"159","messageId":"160","endLine":14,"endColumn":53},{"ruleId":"157","severity":1,"message":"197","line":16,"column":29,"nodeType":"159","messageId":"160","endLine":16,"endColumn":47},{"ruleId":"157","severity":1,"message":"176","line":31,"column":15,"nodeType":"159","messageId":"160","endLine":31,"endColumn":18},{"ruleId":"157","severity":1,"message":"198","line":44,"column":11,"nodeType":"159","messageId":"160","endLine":44,"endColumn":23},{"ruleId":"157","severity":1,"message":"176","line":46,"column":15,"nodeType":"159","messageId":"160","endLine":46,"endColumn":18},{"ruleId":"180","severity":1,"message":"191","line":76,"column":43,"nodeType":"182","messageId":"192","endLine":76,"endColumn":45},{"ruleId":"172","severity":1,"message":"207","line":12,"column":8,"nodeType":"174","endLine":12,"endColumn":11,"suggestions":"208"},{"ruleId":"172","severity":1,"message":"209","line":12,"column":9,"nodeType":"210","endLine":12,"endColumn":10},{"ruleId":"157","severity":1,"message":"204","line":41,"column":11,"nodeType":"159","messageId":"160","endLine":41,"endColumn":22},{"ruleId":"157","severity":1,"message":"176","line":48,"column":15,"nodeType":"159","messageId":"160","endLine":48,"endColumn":18},{"ruleId":"177","severity":1,"message":"178","line":73,"column":33,"nodeType":"179","endLine":73,"endColumn":79},"no-native-reassign",["211"],"no-negated-in-lhs",["212"],"no-unused-vars","'LatestUsers' is defined but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'Container' is defined but never used.","'Link' is defined but never used.","'fetchCategories' is defined but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","'fetchCategory' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getAllBanners'. Either include it or remove the dependency array.","ArrayExpression",["213"],"'res' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has missing dependencies: 'categories', 'courses', and 'match.params.id'. Either include them or remove the dependency array. If 'setcourseInfo' needs the current value of 'categories', you can also switch to useReducer instead of useState and read 'categories' in the reducer.",["214"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","React Hook useEffect has a missing dependency: 'fetchAllCourse'. Either include it or remove the dependency array.",["215"],"Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","'Form' is defined but never used.","React Hook useEffect has a missing dependency: 'getAllUsers'. Either include it or remove the dependency array.",["216"],"'setUpdateCategoryName' is assigned a value but never used.","'setcurrentCategory' is assigned a value but never used.","'handleUpdate' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getAllCategory'. Either include it or remove the dependency array.",["217"],"'fetchCouponsategory' is defined but never used.","React Hook useEffect has a missing dependency: 'getAllCoupons'. Either include it or remove the dependency array.",["218"],"'beginUpdate' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getAllLatestUsers'. Either include it or remove the dependency array.",["219"],"React Hook useEffect has a missing dependency: 'getAllFrms'. Either include it or remove the dependency array.",["220"],"The 0 literal is not a valid dependency because it never changes. You can safely remove it.","Literal","no-global-assign","no-unsafe-negation",{"desc":"221","fix":"222"},{"desc":"223","fix":"224"},{"desc":"225","fix":"226"},{"desc":"227","fix":"228"},{"desc":"229","fix":"230"},{"desc":"231","fix":"232"},{"desc":"233","fix":"234"},{"desc":"235","fix":"236"},"Update the dependencies array to be: [getAllBanners]",{"range":"237","text":"238"},"Update the dependencies array to be: [categories, courses, match.params.id]",{"range":"239","text":"240"},"Update the dependencies array to be: [fetchAllCourse]",{"range":"241","text":"242"},"Update the dependencies array to be: [getAllUsers]",{"range":"243","text":"244"},"Update the dependencies array to be: [getAllCategory]",{"range":"245","text":"246"},"Update the dependencies array to be: [getAllCoupons]",{"range":"247","text":"248"},"Update the dependencies array to be: [getAllLatestUsers]",{"range":"249","text":"250"},"Update the dependencies array to be: [getAllFrms]",{"range":"251","text":"252"},[498,500],"[getAllBanners]",[1397,1399],"[categories, courses, match.params.id]",[835,837],"[fetchAllCourse]",[735,737],"[getAllUsers]",[463,465],"[getAllCategory]",[468,470],"[getAllCoupons]",[682,684],"[getAllLatestUsers]",[489,492],"[getAllFrms]"]